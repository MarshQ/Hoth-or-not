<!DOCTYPE html>
<html lang="en-us">
    <head>
        <title>testing</title>
        <script src="https://www.gstatic.com/firebasejs/live/3.0/firebase.js"></script>

    </head>
    <body>
        <h1>hello world</h1>

        <!-- <h1>Ouch! You've clicked me <span id="click-value-hot" ></span> times hot!</h1> -->
        <!-- <h1>Ouch! You've clicked me <span id="click-value-not" ></span> times not!</h1> -->
        <!-- Button -->
        <div id="mustifar-btn">
            <button data-Hvalue="yoda">Click Me Hot!!!!!</button>
        </div>
        <div id="hoth-btn">
            <button data-Cvalue="yoda">Click Me Not!!!!!</button>
        </div>  
                

        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

        <script>
            //var fs = require('fs');



            var characters = ["yoda", "porg", "luke", "han", "lando", "rey", "poe", "finn", "mace_windu", "amidala", "qui-gon", "chewbacca",
                                "wicket_warrick", "r2-d2", "ackbar", "leia", "anakin", "palpatine", "general_grevious", "count_dooku",
                                "greedo", "jabba_the_hutt", "boba_fett", "jango_fett", "snoke", "darth_maul", "phasma", "tusken_raider", "darth_vader",
                                "jar_jar_binks", "kylo_ren"];
            var user_picks = [false, false, false, false, false, false, false, false, false, false, false, false, 
                                false, false, false, false, false, false, false, false, false, false, false, false, false, 
                                false, false, false, false, false, false];
            var current_char = 0;
            //console.log("APPLES");
            //console.log(characters[current_char]);
            var person = (characters[current_char]);

            // firebase.initializeApp(config);
            var config = {
                apiKey: "AIzaSyDqMMiRCJqUOw2BGZe3UETcuBPDFyHIn04",
                authDomain: "hoth-or-not-d14ab.firebaseapp.com",
                databaseURL: "https://hoth-or-not-d14ab.firebaseio.com",
                projectId: "hoth-or-not-d14ab",
                storageBucket: "hoth-or-not-d14ab.appspot.com",
                messagingSenderId: "273129403707"
             };
            firebase.initializeApp(config);
            
            var database = firebase.database();

            var hotCount = 0;
            var notCount = 0;

            // $(".mustifar-btn").on("click", function() {
            function fire() {
                event.preventDefault();
                console.log("MUSTIFAR");
                var gamma = $(this).attr("data-Hvalue");
                //var beta = $(this).attr("Hvalue") + ".hot";  
                console.log(gamma)
                hotCount++;
               // var person = (characters[current_char]);
                database.ref().child(gamma).set({
                        hot: hotCount,
                        not: notCount
                    // yoda: {
                    //     hot: hotCount,
                    //     not: notCount,
                    // }
                });
            
                // database.ref().on("value", function(snapshot) {
                //     //var gamma = ($(this).attr("Hvalue") + ".hot");
                //     //console.log(beta);
                //     console.log(snapshot.val());
                //     //$("#click-value-not").text(snapshot.val().beta);
                //     hotCount = snapshot.val().beta;
                //     // var hotCount = snapshot.hot.val();
                // }, function(errorObject) {
                //     console.log("The read failed: " + errorObject.code);
                // });
                current_char++;
                person = (characters[current_char]);
                generate();
            }; 

            //$(".hoth-btn").on("click", function() {
                function ice() {
                event.preventDefault();
                console.log("HOTH");
                
                var gamma = $(this).attr("data-Cvalue");
                console.log(gamma + " pickles");
                //var beta = $(this).attr("Cvalue") + ".not"; 
                //console.log(beta);
                
                notCount++;
                //var person = (characters[current_char]);
                database.ref().child(gamma).set({
                        hot: hotCount,
                        not: notCount
                    // yoda: {
                    //     hot: hotCount,
                    //     not: notCount,
                    // }
                });
        
                // database.ref().on("value", function(snapshot) {
                //     //var beta = $(this).attr("Cvalue") + ".not";
                //     //console.log(beta);
                //     console.log(snapshot.val());
                //     //$("#click-value-hot").text(snapshot.val().beta);
                //     notCount = snapshot.val().beta;
                //     // var hotCount = snapshot.hot.val();
                // }, function(errorObject) {
                //     console.log("The read failed: " + errorObject.code);
                // });
                current_char++;
                person = (characters[current_char]);

                

                generate();
            };

              // database.ref().push({
                  //  yoda: hotcount
              //  });

            
            function generate() {
                $("#mustifar-btn").empty();
                 var nextHotBtn = $("<button>");
                 nextHotBtn.attr("data-Hvalue", person);
                 nextHotBtn.text("Hot!");
                 nextHotBtn.addClass("mustifar-btn")
                 $("#mustifar-btn").html(nextHotBtn); 
                 console.log(person); 
                 
                 $("#hoth-btn").empty();
                 var nextColdBtn = $("<button>");
                 nextColdBtn.attr("data-Cvalue", person);
                 nextColdBtn.text("Not!");
                 nextColdBtn.addClass("hoth-btn");
                 //console.log(nextColdBtn);
                 $("#hoth-btn").html(nextColdBtn);                   
            }
            $(document).on("click", ".hoth-btn", ice);
            $(document).on("click", ".mustifar-btn", fire);
            generate();
        </script>
    </body>
   
</html>


<!-- user choices vs world choices -->